<!DOCTYPE html>
<html>
  <head>
    <title>HealthyTomatoes</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  
  <header>
    <nav class="navbar navbar-expand-lg bg-dark-subtle py-2 px-5"> 
      <a class="navbar-brand position-absolute" href="/">Healthy Tomatoes</a>
      <div class="mx-auto"> 
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav gap-2">
            <li class="nav-item">
              <a class="btn btn-sm btn-outline-secondary" href=<%= movies_path %>>Movies</a>
            </li>
            <li class="nav-item">
              <a class="btn btn-sm btn-outline-secondary" href=<%= directors_path %>>Directors</a>
            </li>
            <li class="nav-item">
              <a class="btn btn-sm btn-outline-secondary" href=<%= genres_path %>>Genres</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <body class="bg-secondary">
    <div >
      <%= yield %>
      <script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1/dist/es-module-shims.min.js" crossorigin="anonymous"></script>
      <script type="importmap">
      {
        "imports": {
          "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/esm/popper.min.js",
          "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.esm.min.js"
        }
      }
      </script>
      <script type="module">
        import * as bootstrap from 'bootstrap'

        new bootstrap.Popover(document.getElementById('popoverButton'))
      </script>
    </div>
  </body>
</html>
